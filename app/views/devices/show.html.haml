.pager
  %li.previous
    = link_to '<< Devices List', devices_path

.well
  %legend.row-fluid
    .pull-left
      %h2= device_name(@device)
    .pull-right
      = state_label(@device)
      - if is_admin?
        = link_to 'Edit', edit_device_path(@device), class: 'btn btn-medium'
  .row-fluid
    .span4
      .field
        %b OS:
        = "#{@device.os_name}"
      .field
        %b Project:
        = "#{@device.project}"
      .field
        %b Environment:
        = "#{@device.environment}"
      .field
        %b State:
        = "#{@device.state}"
      .field
        %b Owner:
        = "#{@device.owner}"
      .field
        %b Possesser:
        - if @device.available?
          %span.label.label-info None
        - else
          = "#{@device.possessor}"
          - if @device.in_use? and (is_admin? or is_owner?(@device))
            = link_to 'Receive', receive_device_path(@device), method: :put, class: 'btn btn-primary btn-mini'
    .span4
      .field
        %b Mac Address:
        = "#{@device.mac_addr}"
      .field
        %b Network:
        = "#{@device.service_provider} (#{@device.phone_num})"
      .field
        %b IP:
        = "#{@device.ip_addr}"
      .field
        %b Serial:
        = "#{@device.serial_num}"
      .field
        %b Property Of:
        = "#{@device.property_of}"
    .span4
      .img-placeholder.small
        = image_tag @device.device_photo.url(:small)

= render 'accessories/list'

%h3 Events
%table.table.table-striped.table-bordered
  %thead
    %tr
      %th Event Type
      %th Created At
      %th Updated At
  %tbody
    - @events.each do |ev|
      %tr
        %td= ev.event_type 
        %td= ev.created_at
        %td= ev.updated_at
    
